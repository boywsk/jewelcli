<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Feb 26, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120226" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
      
    
    
            
    
        
    <a href="http://github.com/lexicalscope/jewelcli">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;"
        src="https://a248.e.akamai.net/assets.github.com/img/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">              <div id="bannerLeft">
                <h2>JewelCli</h2>
                </div>
      </div>
        <div class="pull-right">                  <a href="http://sourceforge.net" id="bannerRight">
                                                                                        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=166725&type=1" />
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2012-02-26</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.8.2-SNAPSHOT</li>
                      
                
                    
      
                                  
    <li class="pull-right">              <a href="http://sourceforge.net/projects/jewelcli" class="externalLink" title="SourceForge Page">SourceForge Page</a>
  </li>

                        </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
                    
                                   <h5>JewelCli</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
            <strong>Usage (Interface Strategy)</strong>
          </li>
                  <li class="none">
                          <a href="usage-instance.html" title="Usage (Instance Strategy)">Usage (Instance Strategy)</a>
            </li>
                  <li class="none">
                          <a href="http://www.lexicalscope.com/blog/category/software-projects/jewelcli/" class="externalLink" title="Detailed Blog Articles">Detailed Blog Articles</a>
            </li>
                  <li class="none">
                          <a href="changes.html" title="Changes">Changes</a>
            </li>
                  <li class="none">
                          <a href="related.html" title="Related">Related</a>
            </li>
                  <li class="none">
                          <a href="examples.html" title="Examples">Examples</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="Download">Download</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                    <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                      
                    
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <div class="section"><h2>Usage Introduction<a name="Usage_Introduction"></a></h2><p>As with other command line processing libraries there are three stages to command line processing; the definition stage, the parsing stage and the interrogation stage.</p><p>The other important facility provided by command line processing libraries is error reporting and usage help.</p></div><div class="section"><h2>Definition Stage<a name="Definition_Stage"></a></h2><p>JewelCli uses an annotated Java interface definition to describe the Command Line Interface in a declarative style. The main annotation is the <a href="#apidocscomlexicalscopejewelcliOption.html"> Option Annotation</a></p><div class="section"><h3>Option Annotation<a name="Option_Annotation"></a></h3><p>The option annotation is used to mark a method as an option method, and to give additional information to JewelCli. In JewelCli, defining an option is as simple as:</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option
  String getMyOption();
}</pre></div><p>This produces a Command Line with a single option <i>--myOption</i> which takes a single string value</p><div class="section"><h4>Short Name<a name="Short_Name"></a></h4><p>It is often convenient to allow your users to specify options using a short hand notation. JewelCli supports this through an argument to the Option annotation:</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option(shortName=&quot;m&quot;)
  String getMyOption();
}</pre></div><p>This produces a Command Line with a single option, however, the option may be specified using either <i>--myOption</i> or <i>-m</i></p><p>Multiple short names may be defined for each option</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option(shortName={&quot;m&quot;,&quot;x&quot;})
  String getMyOption();
}</pre></div><p>Now the option may be specified using either <i>--myOption</i>, <i>-m</i> or <i>-x</i></p></div><div class="section"><h4>Long Name<a name="Long_Name"></a></h4><p>Sometimes the option name does not make a very good method name, or vice-versa, in this situation the <b>longName</b> argument can be used:</p><p>Multiple long names may be defined for each option</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option(longName=&quot;alternateName&quot;)
  String getMyOption();
}</pre></div><p>This produces a Command Line with a single option <i>--alternateName</i></p></div><div class="section"><h4>Help Request<a name="Help_Request"></a></h4><p>Many applications have an option which will print usage help. JewelCli supports this with the <b>helpRequest</b> argument:</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option
  String getMyOption();

  @Option(helpRequest = true)
  boolean getHelp();
}</pre></div><p>If <i>--help</i> is specified, an exception will be thrown during parsing, with the usage help in the exception message. This will occur even if other argument validation problems are present.</p></div></div><div class="section"><h3>Return Type<a name="Return_Type"></a></h3><p>The return type of the option method describes what arguments the option takes. There are four general classes of return type; boolean, other primitive, Class, generic List.</p><div class="section"><h4>boolean<a name="boolean"></a></h4><p>A boolean return makes the option behave as a flag: an option that takes no arguments and is only optionally specified.</p></div><div class="section"><h4>other primitive<a name="other_primitive"></a></h4><p>All of the java primitive types, and there Object equivalents, are supported, numbers will automatically be parsed.</p></div><div class="section"><h4>Class<a name="Class"></a></h4><p>Any class which has a constructor that takes a single <i>java.lang.String</i> argument can be used as a return type.</p></div><div class="section"><h4>List<a name="List"></a></h4><p>A list will produce an option that takes a variable length list of arguments. The generic type of the list will define the type of each individual argument in the list.</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option
  List&lt;Integer&gt; getMyOption();
}</pre></div><p>This produces a Command Line with a single option <i>--myOption</i> that takes a list of integers, for example <i>--myOption 1 2 3 4</i></p></div></div><div class="section"><h3>Optional Options<a name="Optional_Options"></a></h3><p>There are two main ways to produce an optional option using jewelCli, one is using a boolean query method, the other is by specifying a (possibly null) default value. </p><p>One way to produce an optional option with JewelCli has been to define it as a flag by using a boolean return type. Some optional options need to take, arguments so another two facilities are provided. To make an option optional, define a bean style &quot;is&quot; method with the same suffix as the getter for the option:</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option
  List&lt;Integer&gt; getMyOption();

  boolean isMyOption();
}</pre></div><p>Another way to have an optional option is to define a default value for the option. If the option is not specified JewelCli will use the specified default value.</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option(defaultValue=&quot;3&quot;)
  int getMyOption();

  @Option(defaultValue={&quot;3&quot;,&quot;4&quot;,&quot;5&quot;})
  List&lt;Integer&gt; getMyList();
}</pre></div><p>If you need the default value to be null you can do it like this:</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Option(defaultToNull=true)
  Integer getMyOption();
}</pre></div></div><div class="section"><h3>Unparsed arguments<a name="Unparsed_arguments"></a></h3><p>In some applications, the last arguments on the command line are not arguments to any option, but are arguments to the central function of the program itself. The <a href="#apidocscomlexicalscopejewelcliUnparsed.html"> Unparsed Annotation</a> annotation is used to mark a method as the accessor for these unparsed options.</p><p>The <i>Unparsed</i> method may use any of the return types that normal <i>Option</i> methods may, with the exception of the <i>boolean</i> (flag) return type</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Unparsed
  List&lt;Files&gt; getFiles();
}</pre></div><div class="section"><h4>Optional unparsed arguments<a name="Optional_unparsed_arguments"></a></h4><p>Optional <i>Unparsed</i> arguments are supported by the same method as normal <i>Option</i> options:</p><div class="source"><pre class="prettyprint">public interface MyExample
{
  @Unparsed
  List&lt;Files&gt; getFiles();

  boolean isFiles();
}</pre></div></div></div><div class="section"><h3>Option Inheritance<a name="Option_Inheritance"></a></h3><p>Interface inheritance is supported. Options defined in a super interface will work in the same way as options defined directly in the interface.</p><div class="source"><pre class="prettyprint">public interface MySuperExample
{
  @Option
  String getMySuperOption();
}

public interface MySubExample extends MySuperExample
{
  @Option
  String getMySubOption();
}</pre></div><p><i>MySubExample</i> will produce a Command Line with a two options <i>--mySuperOption</i> and <i>--mySubOption</i></p></div></div><div class="section"><h2>Parsing Stage<a name="Parsing_Stage"></a></h2><p>JewelCli's parsing stage is very simple. Use the <a href="#apidocscomlexicalscopejewelcliCliFactory.html"> CliFactory</a> to produce an instance of your annotated Java interface.</p><div class="source"><pre class="prettyprint">public static void main(String [] args)
{
  try
  {
    MyExample result = CliFactory.parseArguments(MyExample.class, args);
    [...]
  }
  catch(ArgumentValidationException e)
  {
    [...]
  }
}</pre></div><ul><li>Error Handling<p>If any errors are found during parsing an <a href="#apidocscomlexicalscopejewelcliArgumentValidationException.html"> ArgumentValidationException</a> is thrown. The message of the <i>ArgumentValidationException</i> can be displayed to the user to inform them of the problem.</p></li></ul></div><div class="section"><h2>Interogation Stage<a name="Interogation_Stage"></a></h2><p>JewelCli's interogation stage is even simpler than the parsing stage. The parsing stage creates an instance of your annotated interface populated with the processed command line, all that is left is for you to use it!</p></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                    2006-2012
                        <a href="http://www.lexicalscope.com">lexicalscope</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
